{% extends 'core/starter.html' %}

{% load static %}



{% block title %}Painel de Controle{% endblock title %}
{% block pageName %}<strong>
    <medium>DashBoard{% if scope %} - {{ scope }}{% endif %}</medium>
</strong> {% endblock pageName %}

{% block css %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.2/css/buttons.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" href="{% static 'core/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/plugins/toastr/toastr.min.css' %}">
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&amp;display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/fontawesome-free/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Tempusdominus Bootstrap 4 -->
    <link rel="stylesheet"
          href="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
    <!-- iCheck -->
    <link rel="stylesheet"
          href="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    <!-- JQVMap -->
    <link rel="stylesheet" href="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/jqvmap/jqvmap.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="https://appsrv1-147a1.kxcdn.com/adminlte/css/adminlte.min.css">
    <!-- overlayScrollbars -->
    <link rel="stylesheet"
          href="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/daterangepicker/daterangepicker.css">
    <!-- summernote -->
    <link rel="stylesheet" href="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/summernote/summernote-bs4.min.css">

    <style type="text/css">/* Chart.js */
    @keyframes chartjs-render-animation {
        from {
            opacity: .99
        }
        to {
            opacity: 1
        }
    }

    .chartjs-render-monitor {
        animation: chartjs-render-animation 1ms
    }

    </style></head>

{% endblock css %}

{% block content %}
    <!-- Main content -->
    <section class="content">
        <form action="">
            <div class="row">
                <div class="col-lg-6 col-2">
                    <!-- small box -->
                    <div class="small-box bg-gradient-dark">
                        <div class="inner">
                            <p>Indicador por Equipe</p>
                        </div>
                        <div class="icon">
                            <i class="fa fa-users" aria-hidden="true"></i>

                            <div class="card-body">
                                <div class="card-title">
                                    <p class="text-white">Buscar por Equipe</p>
                                </div>
                                <br>
                                <select class="form-control select2bs4 select2-hidden-accessible" style="width: 100%;"
                                        tabindex="-1" aria-hidden="true" name="health_team" id="id_health_team"
                                        onchange="this.form.submit()">
                                    {% for k, v in form.fields.health_team.choices %}
                                        <option value="{{ k }}"{% if form.data.health_team == k|slugify %}
                                                selected{% endif %}>{{ v }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ./col -->
                <div class="col-lg-6 col-2">
                    <div class="small-box bg-gradient-dark">
                        <div class="inner">
                            <p>Indicador por Unidade </p>
                        </div>
                        <div class="icon">
                            <i class="far fa-list-alt"></i>
                            <div class="card-body">
                                <div class="card-title">
                                    <p class="text-white">Buscar por Unidade</p>
                                </div>
                                <br>
                                <select onchange="this.form.submit()"
                                        class="form-control select2bs4 select2-hidden-accessible" style="width: 100%;"
                                        tabindex="-1" aria-hidden="true" name="health_unit" id="id_health_unit">
                                    {% for k, v in form.fields.health_unit.choices %}
                                        <option value="{{ k }}"{% if form.data.health_unit == k|slugify %}
                                                selected{% endif %}>{{ v }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ./col -->
                {#                <div class="col-lg-4 col-3">#}
                {#                    <!-- small box -->#}
                {#                    <div class="small-box bg-gradient-dark">#}
                {#                        <div class="inner">#}
                {#                            <p>Indicador Geral </p>#}
                {#                        </div>#}
                {#                        <div class="icon">#}
                {#                            <i class="fas fa-clipboard-list"></i>#}
                {#                        </div>#}
                {#                        <div class="card-body">#}
                {#                            <div class="card-title">#}
                {#                                <p class="text-white">Buscar Indicador Geral</p>#}
                {#                            </div>#}
                {#                        </div>#}
                {#                        <a href="{% url 'core:home' %}" class="small-box-footer">Geral <i class="fas fa-arrow-circle-right"></i></a>#}
                {#                    </div>#}
                {#                </div>#}
            </div>
        

        <div class="row">

            <div class="col-md-12">

                <!-- Texto inicial -->
                <div id="headerButton">
                    <div class="grid grid-cols-3 gap-4">
                        <div class="col-span-1"><label
                                class="block text-sm font-semibold text-gray-600 sm:mt-px sm:pt-2">
                            Quadrimestre: </label></div>
                        <div class="col-span-2">
                            <div class="mt-1 relative">
                                <select class="shadow-sm block w-full sm:text-sm border-gray-300 rounded-md"
                                onchange="this.form.submit()" name="quadrimester" id="id_quadrimester">

                                {% for k, v in form.fields.quadrimester.choices %}
                                    <option value="{{ k }}"{% if form.initial.quadrimester == k %} selected{% endif %}>{{ v }}
                                    </option>
                                {% endfor %}
                            </select></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </form>
        <br>
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <div class="row">

                        {#  PRIMEIRA FILEIRA CONTEM  INDICADORES 1 E 5 ABAIXO      */#}
                        <div class="col-md-3">


                            {#   INDICADOR 1 ABAIXO      */#}

                            <div class="card card-info">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador I</h3>
                                    {#                                    <div class="card-tools">#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">#}
                                    {#                                            <i class="fas fa-minus"></i>#}
                                    {#                                        </button>#}
                                    {##}
                                    {#                                        <i class="fas fa-times"></i>#}
                                    {#                                        </button>#}
                                    {#                                    </div>#}
                                </div>
                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center">
                                            <img src="{% static 'core/dist/img/indicador1.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong> Consulta Pré-natal</strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Indicador 1</h5>
                                        <p class="text-2xl font-semibold text-dark"><br>
                                            Numerador {{ summary.indicator_1.numerator }}<br>
                                            Denominador {{ summary.indicator_1.denominator }}<br>
                                            <strong>
                                            </strong>
                                        </p>
                                        <h4><strong>{{ summary.indicator_1.percent }}%</strong></h4>
                                    </div>
                                </div>
                            </div>


                            {#   INDICADOR 5 ABAIXO      */#}

                            <div class="card card-danger">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador V</h3>
                                    {#                                    <div class="card-tools">#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">#}
                                    {#                                            <i class="fas fa-minus"></i>#}
                                    {#                                        </button>#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="remove">#}
                                    {#                                        <i class="fas fa-times"></i>#}
                                    {#                                        </button>#}
                                    {#                                    </div>#}
                                </div>
                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center">
                                            <img src="{% static 'core/dist/img/indicador5.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong> Vacinação </strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Indicador 5</h5>
                                        <p class="card-text">Numerador {{ summary.indicator_5.numerator }}<br>
                                            Denominador {{ summary.indicator_5.denominator }}<br>

                                        </p>
                                        <h4><strong>{{ summary.indicator_5.percent }}%</strong></h4>
                                    </div>
                                </div>
                            </div>


                        </div>


                        {#  SEGUNDA FILEIRA CONTEM  INDICADORES 2 E 6 ABAIXO      */#}
                        <div class="col-md-3">


                            {#   INDICADOR 2 ABAIXO      */#}

                            <div class="card card-info">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador II</h3>
                                    {#                                    <div class="card-tools">#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">#}
                                    {#                                            <i class="fas fa-minus"></i>#}
                                    {#                                        </button>#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="remove">#}
                                    {#                                        <i class="fas fa-times"></i>#}
                                    {#                                        </button>#}
                                    {#                                    </div>#}
                                </div>
                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center">
                                            <img src="{% static 'core/dist/img/indicador2.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong> Exames SIFILIS / HIV</strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Indicador 2</h5>
                                        <p class="card-text">Numerador {{ summary.indicator_2.numerator }}<br>
                                            Denominador {{ summary.indicator_2.denominator }}<br>

                                        </p>
                                        <h4><strong>{{ summary.indicator_2.percent }}%</strong></h4>
                                    </div>
                                </div>
                            </div>


                            {#   INDICADOR 6 ABAIXO      */#}

                            <div class="card card-secondary">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador VI</h3>
                                    {#                                    <div class="card-tools">#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">#}
                                    {#                                            <i class="fas fa-minus"></i>#}
                                    {#                                        </button>#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="remove">#}
                                    {#                                        <i class="fas fa-times"></i>#}
                                    {#                                        </button>#}
                                    {#                                    </div>#}
                                </div>
                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center">
                                            <img src="{% static 'core/dist/img/indicador6.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong> Hipertensão Arterial </strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Indicador 6</h5>
                                        <p class="card-text">Numerador {{ summary.indicator_6.numerator }}<br>
                                            Denominador {{ summary.indicator_6.denominator }}<br>

                                        </p>
                                        <h4><strong>{{ summary.indicator_6.percent }}%</strong></h4>
                                    </div>
                                </div>
                            </div>


                        </div>


                        {#  TERCEIRA FILEIRA CONTEM  INDICADORES 3 E 7 ABAIXO      */#}
                        <div class="col-md-3">


                            {#   INDICADOR 3 ABAIXO      */#}

                            <div class="card card-info">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador III</h3>
                                    {#                                    <div class="card-tools">#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">#}
                                    {#                                            <i class="fas fa-minus"></i>#}
                                    {#                                        </button>#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="remove">#}
                                    {#                                        <i class="fas fa-times"></i>#}
                                    {#                                        </button>#}
                                    {#                                    </div>#}
                                </div>
                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center">
                                            <img src="{% static 'core/dist/img/indicador3.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong>Consulta Odontologica</strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Indicador 3</h5>
                                        <p class="card-text">Numerador {{ summary.indicator_3.numerator }}<br>
                                            Denominador {{ summary.indicator_3.denominator }}<br>

                                        </p>
                                        <h4><strong>{{ summary.indicator_3.percent }}%</strong></h4>
                                    </div>
                                </div>
                            </div>

                            {#   INDICADOR 7 ABAIXO      */#}

                            <div class="card card-secondary">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador VII</h3>
                                    {#                                    <div class="card-tools">#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">#}
                                    {#                                            <i class="fas fa-minus"></i>#}
                                    {#                                        </button>#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="remove">#}
                                    {#                                        <i class="fas fa-times"></i>#}
                                    {#                                        </button>#}
                                    {#                                    </div>#}
                                </div>
                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center">
                                            <img src="{% static 'core/dist/img/indicador7.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong> Diabéticos </strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Indicador 7</h5>
                                        <p class="card-text">Numerador {{ summary.indicator_7.numerator }}<br>
                                            Denominador {{ summary.indicator_7.denominator }}<br>

                                        </p>
                                        <h4><strong>{{ summary.indicator_7.percent }}%</strong></h4>
                                    </div>
                                </div>


                            </div>


                        </div>

                        {#  QUARTA FILEIRA CONTEM  INDICADORES 4 E ISF ABAIXO      */#}
                        <div class="col-md-3">

                            {#   INDICADOR 4 ABAIXO      */#}

                            <div class="card card-success">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador IV</h3>

                                </div>
                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center">
                                            <img src="{% static 'core/dist/img/indicador4.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong> Exame Citopatológico </strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Indicador 4</h5>
                                        <p class="card-text">Numerador {{ summary.indicator_4.numerator }}<br>
                                            Denominador {{ summary.indicator_4.denominator }}<br>

                                        </p>


                                        <h4><strong>{{ summary.indicator_4.percent }}%</strong></h4>
                                    </div>
                                </div>
                            </div>

                            {#   INDICADOR ISF ABAIXO      */#}

                            <div class="card card-warning">
                                <div class="card-header">
                                    <h3 class="card-title">Indicador Sintetico Final</h3>
                                    {#                                    <div class="card-tools">#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">#}
                                    {#                                            <i class="fas fa-minus"></i>#}
                                    {#                                        </button>#}
                                    {#                                        <button type="button" class="btn btn-tool" data-card-widget="remove">#}
                                    {#                                        <i class="fas fa-times"></i>#}
                                    {#                                        </button>#}
                                    {#                                    </div>#}
                                </div>

                                <div class="card-body">
                                    <div class="card-body text-center">
                                        <div class="text-center"><br>
                                            <img src="{% static 'core/dist/img/isf.png' %}"
                                                 class="rounded"
                                                 alt="...">
                                        </div>
                                        <p class="card-text">
                                            <strong> ISF </strong></p>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">ISF</h5>
                                        <p class="card-text">

                                        </p>
                                        <br>
                                        <br>
                                        <h4><strong>{{ summary.ISF }}%</strong></h4>
                                    </div>
                                </div>


                            </div>


                        </div>


                    </div>


                </div>

                <!-- /.box-header -->


            </div>
        </div>


        {#    GRAFICOS SENDO INSERIDOS ABAIXO#}
        <div class="bg-white shadow overflow-hidden sm:rounded-lg divide-y divide-gray-200">

            <div style=" width:80%; height: 600px; position: relative; height:40vh; width:80vw  ">
                <canvas id="grafico-comparativo"></canvas>
            </div>

        </div>


        <script>
            // Dados do gráfico
            var dados = {
                labels: ["Indicador 1", "Indicador 2", "Indicador 3", "Indicador 4", "Indicador 5", "Indicador 6", "Indicador 7"],
                datasets: [
                    {
                        label: "Metas",
                        backgroundColor: "#36A2EB",
                        borderColor: "#36A2EB",
                        data: [
                            {{ summary.indicator_1.goal }}, 
                            {{ summary.indicator_2.goal }},
                            {{ summary.indicator_3.goal }},
                            {{ summary.indicator_4.goal }},
                            {{ summary.indicator_5.goal }},
                            {{ summary.indicator_6.goal }},
                            {{ summary.indicator_7.goal }},
                        ],
                        fill: false
                    },
                    {
                        label: "Resultados obtidos",
                        backgroundColor: "#9B00FFFF",
                        borderColor: "#9B00FFFF",
                        data: [
                            {{ summary.indicator_1.rounded_percent }}, 
                            {{ summary.indicator_2.rounded_percent }},
                            {{ summary.indicator_3.rounded_percent }},
                            {{ summary.indicator_4.rounded_percent }},
                            {{ summary.indicator_5.rounded_percent }}, 
                            {{ summary.indicator_6.rounded_percent }},
                            {{ summary.indicator_7.rounded_percent }}
                        ],
                        fill: false
                    }
                ]
            };

            // Opções do gráfico
            var opcoes = {
                responsive: true,
                maintainAspectRatio: false,
                legend: {
                    position: "bottom"
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            display: false
                        },
                        ticks: {
                            fontSize: 16,
                            fontStyle: "bold",
                            fontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif"
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            display: false
                        },
                        ticks: {
                            fontSize: 16,
                            fontStyle: "bold",
                            fontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
                            beginAtZero: true
                        }
                    }]
                }
            };

            // Criação do gráfico
            var graficoComparativo = new Chart(document.getElementById("grafico-comparativo"), {
                type: 'bar',
                data: dados,
                options: opcoes
            });
        </script>


    </section>
    <!-- /.content -->
{% endblock content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'core/plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'core/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'core/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'core/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'core/plugins/sweetalert2/sweetalert2.min.js' %}"></script>
<script src="{% static 'core/plugins/toastr/toastr.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/admin-lte@3.1/dist/js/adminlte.min.js"></script>
<!-- jQuery -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/sparklines/sparkline.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- JQVMap -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/moment/moment.min.js"></script>
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/js/adminlte.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/js/pages/dashboard.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/js/demo.js"></script>
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/plugins/chart.js/Chart.min.js"></script>
<!-- AdminLTE App -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="https://appsrv1-147a1.kxcdn.com/adminlte/js/demo.js"></script>
<!-- page script -->
<script>
    $(function () {
        /* ChartJS
        * -------
        * Here we will create a few charts using ChartJS
        */

        //--------------
        //- AREA CHART -
        //--------------

        // Get context with jQuery - using jQuery's .get() method.
        var areaChartCanvas = $('#areaChart').get(0).getContext('2d')

        var areaChartData = {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [
                {
                    label: 'Digital Goods',
                    backgroundColor: 'rgba(60,141,188,0.9)',
                    borderColor: 'rgba(60,141,188,0.8)',
                    pointRadius: false,
                    pointColor: '#3b8bba',
                    pointStrokeColor: 'rgba(60,141,188,1)',
                    pointHighlightFill: '#fff',
                    pointHighlightStroke: 'rgba(60,141,188,1)',
                    data: [28, 48, 40, 19, 86, 27, 90]
                },
                {
                    label: 'Electronics',
                    backgroundColor: 'rgba(210, 214, 222, 1)',
                    borderColor: 'rgba(210, 214, 222, 1)',
                    pointRadius: false,
                    pointColor: 'rgba(210, 214, 222, 1)',
                    pointStrokeColor: '#c1c7d1',
                    pointHighlightFill: '#fff',
                    pointHighlightStroke: 'rgba(220,220,220,1)',
                    data: [65, 59, 80, 81, 56, 55, 40]
                },
            ]
        }

        var areaChartOptions = {
            maintainAspectRatio: false,
            responsive: true,
            legend: {
                display: false
            },
            scales: {
                xAxes: [{
                    gridLines: {
                        display: false,
                    }
                }],
                yAxes: [{
                    gridLines: {
                        display: false,
                    }
                }]
            }
        }

        // This will get the first returned node in the jQuery collection.
        var areaChart = new Chart(areaChartCanvas, {
            type: 'line',
            data: areaChartData,
            options: areaChartOptions
        })

        //-------------
        //- LINE CHART -
        //--------------
        var lineChartCanvas = $('#lineChart').get(0).getContext('2d')
        var lineChartOptions = $.extend(true, {}, areaChartOptions)
        var lineChartData = $.extend(true, {}, areaChartData)
        lineChartData.datasets[0].fill = false;
        lineChartData.datasets[1].fill = false;
        lineChartOptions.datasetFill = false

        var lineChart = new Chart(lineChartCanvas, {
            type: 'line',
            data: lineChartData,
            options: lineChartOptions
        })

        //-------------
        //- DONUT CHART -
        //-------------
        // Get context with jQuery - using jQuery's .get() method.
        var donutChartCanvas = $('#donutChart').get(0).getContext('2d')
        var donutData = {
            labels: [
                'Chrome',
                'IE',
                'FireFox',
                'Safari',
                'Opera',
                'Navigator',
            ],
            datasets: [
                {
                    data: [700, 500, 400, 600, 300, 100],
                    backgroundColor: ['#f56954', '#00a65a', '#f39c12', '#00c0ef', '#3c8dbc', '#d2d6de'],
                }
            ]
        }
        var donutOptions = {
            maintainAspectRatio: false,
            responsive: true,
        }
        //Create pie or douhnut chart
        // You can switch between pie and douhnut using the method below.
        var donutChart = new Chart(donutChartCanvas, {
            type: 'doughnut',
            data: donutData,
            options: donutOptions
        })

        //-------------
        //- PIE CHART -
        //-------------
        // Get context with jQuery - using jQuery's .get() method.
        var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
        var pieData = donutData;
        var pieOptions = {
            maintainAspectRatio: false,
            responsive: true,
        }
        //Create pie or douhnut chart
        // You can switch between pie and douhnut using the method below.
        var pieChart = new Chart(pieChartCanvas, {
            type: 'pie',
            data: pieData,
            options: pieOptions
        })

        //-------------
        //- BAR CHART -
        //-------------
        var barChartCanvas = $('#barChart').get(0).getContext('2d')
        var barChartData = $.extend(true, {}, areaChartData)
        var temp0 = areaChartData.datasets[0]
        var temp1 = areaChartData.datasets[1]
        barChartData.datasets[0] = temp1
        barChartData.datasets[1] = temp0

        var barChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            datasetFill: false
        }

        var barChart = new Chart(barChartCanvas, {
            type: 'bar',
            data: barChartData,
            options: barChartOptions
        })

        //---------------------
        //- STACKED BAR CHART -
        //---------------------
        var stackedBarChartCanvas = $('#stackedBarChart').get(0).getContext('2d')
        var stackedBarChartData = $.extend(true, {}, barChartData)

        var stackedBarChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                xAxes: [{
                    stacked: true,
                }],
                yAxes: [{
                    stacked: true
                }]
            }
        }

        var stackedBarChart = new Chart(stackedBarChartCanvas, {
            type: 'bar',
            data: stackedBarChartData,
            options: stackedBarChartOptions
        })
    })
</script>


<div id="torrent-scanner-popup" style="display: none;"></div>


<script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.bootstrap4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.colVis.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap4.min.js"></script>
<script>
    $(function () {
        $("#example1").DataTable({
            "responsive": true,
            "autoWidth": false,
        });
        $('#example2').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": false,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });
    });
</script>
<script type="text/javascript">
    $(function () {
        const Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000
        });
        {% if messages %}

            $(function () {
                Toast.fire({
                    icon: 'success',
                    {% for message in messages %}
                        title: '{{ message }}',
                    {% endfor %}
                })
            });
        {% endif %}

    });

</script>
